<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Probando Avisos</title>
    </h:head>
    <h:body>
        <h:form>
            <h:commandButton action="#{avisoBean.desplegarCreacion()}" value="Crear Aviso"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Ubicacion"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.ubicacion}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Estado"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.estado}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Observacion"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.observaciones}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Ubicacion Técnica"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.ubicacionTecnica}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Prioridad"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.prioridad}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Inicio Reparacion"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.inicioReparacionDia}"/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="/"/>
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.inicioReparacionMes}"/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="/"/>
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.inicioReparacionAnio}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Fin Reparacion"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.finReparacionDia}"/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="/"/>
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.finReparacionMes}"/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="/"/>
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.finReparacionAnio}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Posición GPS"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.posicionGPS}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Tipo"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.tipo}"/><br/>
            <h:outputLabel rendered="#{avisoBean.desplegarCreacion}" value="Usuario (debe existir en la bd)"/>   
            <h:inputText rendered="#{avisoBean.desplegarCreacion}" value="#{avisoBean.usuario}"/><br/>
            <h:commandButton rendered="#{avisoBean.desplegarCreacion}" action="#{avisoBean.creacionAviso()}" value="Enviar Datos"/><br/>
            <h:commandButton action="#{avisoBean.contar()}" value="Count"/>&nbsp;&nbsp;&nbsp;<h:outputLabel value="#{avisoBean.contador}"/>
            
            <h:dataTable value="#{avisoBean.listaAvisos}" var="aviso"  border="2"  cellspacing="2">
                    <h:column>
                        <f:facet name="header">
                            ID
                        </f:facet>
                        #{aviso.id}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Fecha Creación
                        </f:facet>
                        #{aviso.fechacreacion.day}/#{aviso.fechacreacion.month}/#{aviso.fechacreacion.year}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Ubicacion
                        </f:facet>
                        #{aviso.ubicacion}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Estado
                        </f:facet>
                        #{aviso.estado}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Observaciones
                        </f:facet>
                        #{aviso.observaciones}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Ubicacion Técnica
                        </f:facet>
                        #{aviso.ubicacionTecnica}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Prioridad
                        </f:facet>
                        #{aviso.prioridad}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Inicio Reparación
                        </f:facet>
                        #{aviso.inicioReparacion.day}/#{aviso.inicioReparacion.month}/#{aviso.inicioReparacion.year}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Fin Reparación
                        </f:facet>
                        #{aviso.finReparacion.day}/#{aviso.finReparacion.month}/#{aviso.finReparacion.year}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Posición GPS
                        </f:facet>
                        #{aviso.posGPS}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Tipo
                        </f:facet>
                        #{aviso.tipo}
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            Editar
                        </f:facet>
                        <h:commandButton action="#{avisoBean.doEditar(aviso)}" value="Editar"/> 
                    </h:column>
                <h:column>
                    <f:facet name = "header">
                        Borrar
                    </f:facet>
                    <h:commandButton action="#{avisoBean.borrarAviso(aviso)}" value="Borrar"/>
                </h:column>
                </h:dataTable><br/>
                <h:inputText a:placeholder="estado" value="#{avisoBean.estado}"/><h:commandButton action="#{avisoBean.buscarAvisosPorEstado()}" value="Buscar avisos por estado"/><br/>
                <h:inputText a:placeholder="prioridad" value="#{avisoBean.prioridad}"/><h:commandButton action="#{avisoBean.buscarAvisosPorPrioridad()}" value="Buscar avisos por prioridad"/><br/>
                <h:inputText a:placeholder="tipo" value="#{avisoBean.tipo}"/> <h:commandButton action="#{avisoBean.buscarAvisosPorTipo()}" value="Buscar avisos por tipo"/><br/>
                <h:inputText a:placeholder="email de usuario" value="#{avisoBean.usuario}"/> <h:commandButton action="#{avisoBean.mostrarAvisosUsuario()}" value="Buscar avisos por usuario"/><br/>
                <h:inputText a:placeholder="Id aviso" value="#{avisoBean.idBuscada}"/>
                <h:commandButton action="#{avisoBean.buscarAvisosPorId()}" value="Buscar avisos por id"/><br/>
                <h:commandButton action="#{avisoBean.doListar()}" value="Todos los avisos"/><br/>
        </h:form>
    </h:body>
</html>

